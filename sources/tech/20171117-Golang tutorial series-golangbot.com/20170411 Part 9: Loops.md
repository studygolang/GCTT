# 第九部分：循环
这是Go语言系列教程的第九部分。
循环语句是用来重复执行某一段代码。
`for `命令是Go语言唯一的循环命令。GO语言中并没有其他语言比如C语言中的`while`和`do while`循环。
## for 循环语法
```go
for initialisation; condition; post {  
}
```
初始语句只会被执行一次。当循环初始化完成，就会检查条件语句。如果条件语句的值为真值，在`{}`内部的循环体就会在循环语句后执行。循环语句会在每一次循环中执行。每当循环语句执行时，条件语句就会重新检查。如果条件语句是真值，循环就会继续执行，否则`for`循环就会终止。

GO语言`for`循环这三部分即初始语句、条件语句和循环语句都是可以配置的。让我们看个例子来更好地理解它们。
## 例子
让我们用`for`循环写一个打印出从1到10的程序。
```go
package main

import (  
    "fmt"
)

func main() {  
    for i := 1; i <= 10; i++ {
        fmt.Printf(" %d",i)
    }
}
```

[Run in playground](https://play.golang.org/p/mV6Zgcx2DY "Run in playground")

在上面的程序中，i变量被初始化为1.条件语句会检查i是否小于10.如果条件成立，i就会被打印出来，否则循环就会终止。循环语句会在每一次循环完成后自增1.一旦i变得比10要大，循环中止。

上面的程序会打印出`1 2 3 4 5 6 7 8 9 10`

在`for`循环中声明的变量只能在循环体内访问，因此i不能够在循环体外访问。

## break

`break` 表达式被用在循环正常执行中来停止循环，终止之后程序将会在`for`循环下一行程序开始执行。

让我们写一个从1打印到5并且使用`break`跳出循环的程序。
```go
package main

import (  
    "fmt"
)

func main() {  
    for i := 1; i <= 10; i++ {
        if i > 5 {
            break //loop is terminated if i > 5
        }
        fmt.Printf("%d ", i)
    }
    fmt.Printf("\nline after for loop")
}

```
[Run in playground](https://play.golang.org/p/sujKy92f-- "Run in playground")

在上面的程序中，在循环过程中i的值会被判断。如果i的值大于5然后`break`语句就会执行，循环就会被终止。打印语句会在`for`循环结束后执行，上面程序会输出，
```go
1 2 3 4 5  
line after for loop 
```

## continue

`continue` 语句用来跳出`for`循环中当前循环。在`continue`语句后的所有的`for`循环语句都不会在本次循环中执行。循环体会在一下次循环中继续执行。
让我们写一个打印出1到10并且使用`continue`的程序。

```go
package main

import (  
    "fmt"
)

func main() {  
    for i := 1; i <= 10; i++ {
        if i%2 == 0 {
            continue
        }
        fmt.Printf("%d ", i)
    }
}
```
[Run in playground](https://play.golang.org/p/DRLN2ZHwVS "Run in playground")

在上面的程序中，这行代码`if i%2==0 `会判断i除以2的余数是不是0，如果是0，这个数字就是偶数然后执行`continue`语句，从而控制程序进入下一个循环。因此在`continue`后面的打印语句不会被调用而程序会进入一下个循环。上面程序会输出`1 3 5 7 9`。

## 更多例子
让我们写更多的代码来演示`for`循环的多样性吧
下面这个程序打印出从0到10所有的偶数。
```go
package main

import (  
    "fmt"
)

func main() {  
    i := 0
    for ;i <= 10; { // initialisation and post are omitted
        fmt.Printf("%d ", i)
        i += 2
    }
}

```
[Run in playground](https://play.golang.org/p/PNXliGINku "Run in playground")

正如我们已经知道的那样，`for`循环的三部分，初始语句、条件语句、循环语句都是可以配置的。在上面的程序中，初始语句和循环语句都被省略了。i在`for`循环外被初始化成了0.只要`i<=10` 循环就会被执行。在循环中，i以2的增量自增。上面的程序会输出`0 2 4 6 8 10`。

上面程序中`for`循环中的分号也可以省略。这个格式的`for`循环可以看作是二选一的`for while`循环。上面的程序可以被重写成：
```go
package main

import (  
    "fmt"
)

func main() {  
    i := 0
    for i <= 10 { //semicolons are ommitted and only condition is present
        fmt.Printf("%d ", i)
        i += 2
    }
}
```

[Run in playground](https://play.golang.org/p/UYiz-Wtnoj "Run in playground")

在`for`循环中可以声明和操作多个变量。让我们写一个使用声明多个变量来打印下面序列的程序。
```go
10 * 1 = 10  
11 * 2 = 22  
12 * 3 = 36  
13 * 4 = 52  
14 * 5 = 70  
15 * 6 = 90  
16 * 7 = 112  
17 * 8 = 136  
18 * 9 = 162  
19 * 10 = 190
```  

```go
package main

import (  
    "fmt"
)

func main() {  
    for no, i := 10, 1; i <= 10 && no <= 19; i, no = i+1, no+1 { //multiple initialisation and increment
        fmt.Printf("%d * %d = %d\n", no, i, no*i)
    }

}
```

[Run in playground](https://play.golang.org/p/e7Pf0UDjj0 "Run in playground")


在上面的程序中`no`和`i`被声明然后分别被初始化为10和1。在每一次循环结束后`no`和`i`都自增1.布尔型操作符`&&`被用来确保i小于等于10并且`no`小于等于19。

## 无限循环

无限循环的语法是：
```go
for {  
}
```

下一个程序就会一直打印`Hello World`不会停止。
```go
package main

import "fmt"

func main() {  
    for {
        fmt.Println("Hello World")
    }
}
```

如果你打算在[go playground](https://play.golang.org/p/kYQZw1AWT4 "go playground")里尝试上面的程序，你会得到一个“过程耗时太长”的错误。请尝试在你本地系统上运行，来无限的打印“Hello World”。


这里还有一个`range`结构，它可以被用来在`for`循环中操作数组对象。当我们学习数组时我们会补充这方面内容。

这就是`for`循环的全部内容。希望您能享阅读过程。请留下您宝贵的意见和建议。

####  下一部分-选择语句

----------------

via: https://golangbot.com/loops/

作者：[Nick Coghlan](https://golangbot.com/about/)
译者：[thxallvu](https://github.com/thxallvu)
校对：[校对者ID](https://github.com/校对者ID)

本文由 [GCTT](https://github.com/studygolang/GCTT) 原创编译，[Go 中文网](https://studygolang.com/) 荣誉推
